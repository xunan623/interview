###UI视图

*****


**当输入框限制输入长度又最后输入表情被截断问题**

	NSRange range = [textField.text rangeOfComposedCharacterSequencesForRange:NSMakeRange(0, MaxInputLength)];
	textField.text = [textField.text substringWithRange:range];

	
![网上解决方案](https://blog.csdn.net/BUG_delete/article/details/90694630)


**有时候给cell添加约束会报警**

			 [LayoutConstraints] Unable to simultaneously satisfy constraints.
	Probably at least one of the constraints in the following list is one you don't want. 
	Try this: 
		(1) look at each constraint and try to figure out which you don't expect; 
		(2) find the code that added the unwanted constraint or constraints and fix it. 
			(
			    "<SnapKit.LayoutConstraint:0x600001603660@SHDiscussMainBaseView.swift#28 UIView:0x7fe1c30178e0.left == SHDiscussModule.SHDiscussMainCommentView:0x7fe1c3016d70.left + 10.0>",
			    "<SnapKit.LayoutConstraint:0x6000016036c0@SHDiscussMainBaseView.swift#29 UIView:0x7fe1c30178e0.right == SHDiscussModule.SHDiscussMainCommentView:0x7fe1c3016d70.right - 10.0>",
			    "<SnapKit.LayoutConstraint:0x600001603900@SHDiscussMainCommentView.swift#29 UIImageView:0x7fe1c3016f50.left == UIView:0x7fe1c30178e0.left + 14.0>",
			    "<SnapKit.LayoutConstraint:0x6000016038a0@SHDiscussMainCommentView.swift#31 UIImageView:0x7fe1c3016f50.width == 28.0>",
			    "<SnapKit.LayoutConstraint:0x600001603a20@SHDiscussMainCommentView.swift#35 UILabel:0x7fe1c3017120.left == UIImageView:0x7fe1c3016f50.right + 10.0>",
			    "<SnapKit.LayoutConstraint:0x600001602220@SHDiscussMainCommentView.swift#36 UILabel:0x7fe1c3017120.right == UIView:0x7fe1c30178e0.right - 44.0>",
			    "<NSLayoutConstraint:0x600001151c20 'UIView-Encapsulated-Layout-Width' SHDiscussModule.SHDiscussMainCommentView:0x7fe1c3016d70.width == 0   (active)>"
			)
			
			Will attempt to recover by breaking constraint 
			<SnapKit.LayoutConstraint:0x6000016038a0@SHDiscussMainCommentView.swift#31 UIImageView:0x7fe1c3016f50.width == 28.0>
			
			Make a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.
			The methods in the UIConstraintBasedLayoutDebugging category on UIView listed in <UIKitCore/UIView.h> may also be helpful.
			
原因是我的cell刚开始高度为0，在某些条件下，会变成另外一个height,然而由于CollectionView会默认添加两个约束就是UIView-Encapsulated-Layout-Width 和UIView-Encapsulated-Layout-Hight保证大小适中，但是我的cell的高度刚开始默认为0，它的系统默认约束和我的设置的约束权限冲突，造成的。

因此只需要降低自己约束权限就行了：

	   addSubview(contentBgView)
        contentBgView.snp.makeConstraints { (make) in
            make.left.equalToSuperview().offset(mainMarginSpace).priority(999)
            make.right.equalToSuperview().offset(-mainMarginSpace).priority(999)
            make.top.bottom.equalToSuperview()
        }



